<!--#==#==#==#==#==#==#==#==# DIALOG TEMPLATE #==#==#==#==#==#==#==#==#-->

<ng-template #renameAddressLabel>
	<div class="flex flex-col justify-center items-center p-4">

		<span class="flex text-xl m-4 font-bold">Renomear endereço</span>
		<div class="flex flex-col justify-center items-center">
			<span class="flex text-base text-black font-medium p-4">
				Novo nome do endereço &nbsp; <span class="text-primary">{{this.addressLabel}}</span>:
			</span>

			<text-input class="flex m-4 mb-0"
				[control]="fc.addressLabel"
				[showErrorsWhen]="false"
				label="Novo nome"
				idInput="novonome"
				(keyup.enter)="changeAddressLabel()"
				[onChange]="verifyLabelError()">
				<div class="text-primary text-center h-[1rem] text-[13px] ml-1 " [ngClass]="showLabelError ? 'flex' : 'invisible' ">
					<!--input-validation-->
					*Já existe um endereço com este nome
				</div>
			</text-input>

		</div>
		<div>
			<!-- <button mat-button mat-dialog-close>Ok</button> -->
			<default-button type="submit" (onClick)="changeAddressLabel()" [widthRem]="9" fontSizeRem="1.2" [heightRem]="3" text="Salvar"></default-button>
		</div>

	</div>
</ng-template>

<!--#==#==#==#==#==#==#==#==# PROFILE-PAGE CONTENT #==#==#==#==#==#==#==#==#-->

<div class="flex justify-center items-center   ">
	<div class="flex flex-col gap-4  ">
		<app-title title="Meus dados" class="mt-4"></app-title>
		<form (change)="getAndUpdateUser()" [formGroup]="updateForm" (ngSubmit)="submit()" class="">

			<section class="grid grid-cols-3 gap-4 p-4 pt-0 border-b">
				<!--Informacoes pessoais e de contato-->
				<span class="col-span-3 text-xl p-4 font-bold ">Informações pessoais e de contato</span>
				<text-input
					[control]="fc.name"
					[showErrorsWhen]="isSubmitted"
					label="Nome"
					idInput="nome">
				</text-input>

				<text-input
					[control]="fc.cpf"
					[showErrorsWhen]="isSubmitted"
					label="CPF"
					idInput="cpf">
				</text-input>

				<text-input
					[control]="fc.cellphone"
					[showErrorsWhen]="isSubmitted"
					label="Celular"
					idInput="celular">
				</text-input>
			</section>


			<section class=" grid grid-cols-3 gap-4 p-4 border-b max-w-[800px] items-center">
				<!--Endereco de entrega-->
				<div class=" col-span-3 flex justify-between items-center pt-0 p-0">
					<span class=" flex text-xl p-4 font-bold ">Endereços de entrega</span>
					<span class=" flex text-base p-2 font-medium text-primary cursor-pointer hover:font-semibold">Adicionar endereço</span>
					<span (click)="openDialog(renameAddressLabel)" class=" flex text-base p-2 font-medium text-primary cursor-pointer hover:font-semibold">Renomear endereço</span>
				</div>

				<div class=" col-span-3 flex justify-center w-full items-center pt-0 p-0">

					<!-- <drag-scroll class=" flex w-fit max-w-[717px] mb-4 !overflow-hidden"> -->
					<mat-button-toggle-group #myElement
						appearance="legacy"
						[value]="addressLabel"
						(change)="this.addressLabel = $event.value;toggleAddress($event.value)">
						<mat-button-toggle disableRipple *ngFor="let address of addressLabelList" [value]="address">
							{{ address }}
						</mat-button-toggle>
					</mat-button-toggle-group>
					<!-- </drag-scroll> -->

				</div>
				<!-- <text-input
					[control]="fc.addressLabel"
					[showErrorsWhen]="isSubmitted"
					label="Nome do endereço"
					idInput="addressLabel">
				</text-input> -->

				<text-input
					[control]="fc.zipCode"
					[showErrorsWhen]="isSubmitted"
					label="CEP"
					idInput="cep">
				</text-input>

				<text-input
					[control]="fc.state"
					[showErrorsWhen]="isSubmitted"
					label="Estado"
					idInput="estado">
				</text-input>

				<text-input
					[control]="fc.city"
					[showErrorsWhen]="isSubmitted"
					label="Cidade"
					idInput="cidade">
				</text-input>

				<text-input
					[control]="fc.district"
					[showErrorsWhen]="isSubmitted"
					label="Bairro"
					idInput="bairro">
				</text-input>

				<text-input
					[control]="fc.street"
					[showErrorsWhen]="isSubmitted"
					label="Rua"
					idInput="rua">
				</text-input>

				<text-input
					[control]="fc.residenceNumber"
					[showErrorsWhen]="isSubmitted"
					label="Numero"
					idInput="numero">
				</text-input>
			</section>

			<section class="grid grid-cols-3 gap-4 p-4 border-b">
				<!--Credenciais-->
				<span class="col-span-3 text-xl p-4 font-bold ">Credenciais</span>
				<text-input
					[control]="fc.email"
					[showErrorsWhen]="isSubmitted"
					label="Email"
					type="email"
					idInput="email">
				</text-input>

				<!-- <text-input
					[control]="fc.password"
					[showErrorsWhen]="isSubmitted"
					label="Senha"
					type="password"
					idInput="senha"
					[hideableValue]="true">
				</text-input>

				<text-input
					[control]="fc.confirmPassword"
					[showErrorsWhen]="isSubmitted"
					label="Confirmar Senha"
					type="password"
					idInput="confirmar"
					[hideableValue]="true">
				</text-input> -->
			</section>

			<default-button text="Salvar"></default-button>
		</form>
		<button (click)="getAndUpdateUser()">getAndUpdateUser()</button>
		<button (click)="saveToLocalStorage()">saveToLocalStorage()</button>

	</div>
</div>
